{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///C:/Users/Alistair.Crawford/Dropbox (Mendix)/Windows/Documents/Mendix/WidgetTest-main/CustomWidgets/runmap/src/Runmap.tsx","webpack:///external \"react\"","webpack:///external \"react-native\"","webpack:///external \"react-native-maps\""],"names":[],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICrEA;QAA4B,0BAAmC;QAA/D;YAAA,qEAmIC;YAjIG,WAAK,GAAG,EAmCP,CAAC;;QA8FN,CAAC;QA5FG,iCAAgB,GAAhB,UAAiB,MAAkB;YAC/B,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;gBAE7B,IAAI,MAAY,EAAE,MAAY,EAAE,MAAY,EAAE,MAAY,CAAC;gBAG3D,CAAC,UAAC,KAAK;oBACH,MAAI,GAAG,KAAK,CAAC,QAAQ,CAAC;oBACtB,MAAI,GAAG,KAAK,CAAC,QAAQ,CAAC;oBACtB,MAAI,GAAG,KAAK,CAAC,SAAS,CAAC;oBACvB,MAAI,GAAG,KAAK,CAAC,SAAS,CAAC;gBAC3B,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;gBAGd,MAAM,CAAC,GAAG,CAAC,UAAC,KAAU;oBAClB,MAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;oBACtC,MAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;oBACtC,MAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAI,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;oBACvC,MAAI,GAAG,IAAI,CAAC,GAAG,CAAC,MAAI,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;gBAC3C,CAAC,CAAC,CAAC;gBAEH,IAAM,MAAM,GAAE,KAAK,CAAC;gBACpB,IAAM,IAAI,GAAG,CAAC,MAAI,GAAG,MAAI,CAAC,GAAG,CAAC,CAAC;gBAC/B,IAAM,IAAI,GAAG,CAAC,MAAI,GAAG,MAAI,CAAC,GAAG,CAAC,CAAC;gBAC/B,IAAM,MAAM,GAAG,CAAC,MAAI,GAAG,MAAI,CAAC,GAAG,CAAC,CAAC,MAAM,GAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;gBACpD,IAAM,MAAM,GAAG,CAAC,MAAI,GAAG,MAAI,CAAC,GAAG,CAAC,CAAC,MAAM,GAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;gBAEpD,OAAO;oBACH,QAAQ,EAAE,IAAI;oBACd,SAAS,EAAE,IAAI;oBACf,aAAa,EAAE,MAAM;oBACrB,cAAc,EAAE,MAAM;iBACzB,CAAC;aACL;QACL,CAAC;QAED,uBAAM,GAAN;YAEU,gDAA4C,EAA1C,kBAAM,EAAE,gBAAkC,CAAC;YAEnD,IAAI,MAAM,GAAyC,EAAE,CAAC;YAEtD,IAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE;gBACnD,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;gBACvD,SAAS,CAAC,OAAO,CAAC,UAAC,QAA4C;oBAC3D,MAAM,CAAC,IAAI,CAAC,EAAC,QAAQ,EAAC,QAAQ,CAAC,QAAQ,EAAC,SAAS,EAAC,QAAQ,CAAC,SAAS,EAAC,CAAC,CAAC;gBAC3E,CAAC,CAAC,CAAC;aACN;YAQD,IAAM,mBAAmB,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAE1D,OAAO,CACH,sBAAC,mBAAI;gBAED,sBAAC,2BAAO,IACJ,QAAQ,EAAE,mCAAe,EACzB,KAAK,EAAE,EAAE,KAAK,SAAE,MAAM,UAAE,EACxB,aAAa,EAAI,mBAAmB;oBAGnC,MAAM,CAAC,GAAG,CAAC,UAAC,KAAK,EAAE,GAAG,IAAK,QACxB,sBAAC,0BAAM,IACH,GAAG,EAAE,GAAG,EACR,UAAU,EAAE,EAAE,QAAQ,EAAE,KAAK,CAAC,QAAQ,EAAE,SAAS,EAAE,KAAK,CAAC,SAAS,EAAE,EACpE,OAAO,EAAK,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC,EAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAC7D,QAAQ,EAAK,CAAC,GAAG,IAAI,CAAC,CAAC,EAAC,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,GAMhD,CACL,EAZ2B,CAY3B,CAAC;oBAEF,sBAAC,4BAAQ,IACL,GAAG,EAAE,CAAC,EACN,WAAW,EAAE,MAAM,EACnB,WAAW,EAAC,MAAM,EAClB,WAAW,EAAE,CAAC,GAChB,CAEI,CACP,CACV,CAAC;QACN,CAAC;QAEL,aAAC;IAAD,CAAC,CAnI2B,iBAAS,GAmIpC;IAnIY,wBAAM;;;;;;;;;;;;;;ACbnB,kC;;;;;;;;;;;ACAA,yC;;;;;;;;;;;ACAA,8C","file":"widgets/mendix/runmap/Runmap.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"../../../../src/Runmap.tsx\");\n","import { Component, ReactNode, createElement } from \"react\";\nimport { TextStyle, ViewStyle, Dimensions, View } from \"react-native\";\nimport { RunmapProps } from \"../typings/RunmapProps\";\nimport { Style } from \"./utils/common\";\nimport MapView, { PROVIDER_GOOGLE, Marker, Polyline } from 'react-native-maps';\n\n/* import Spinner from 'react-native-loading-spinner-overlay'; */\n\nexport interface CustomStyle extends Style {\n    container: ViewStyle;\n    label: TextStyle;\n}\n\nexport class Runmap extends Component<RunmapProps<CustomStyle>> {\n\n    state = {\n        //points:this.props.contentSource.items,\n        /*       \n        locations: [\n            {\n                \"latitude\": 47.31801,\n                \"longitude\": -2.45274,\n                \"label\": \"Siemens coffee producer\",\n                \"order\": 0,\n            },\n            {\n                \"latitude\": 50.07873,\n                \"longitude\": 8.62892,\n                \"label\": \"Siemens coffee factory\",\n                \"order\": 1,\n            },\n            {\n                \"latitude\": 52.321127,\n                \"longitude\": 9.747678,\n                \"label\": \"Supermarket1\",\n                \"order\": 2,\n            }\n        ],\n        */\n\n        /*\n        lines: [\n            { latitude: 47.31801, longitude: -2.45274 },\n            { latitude: 50.07873, longitude: 8.62892 },\n            { latitude: 52.321127, longitude: 9.747678 }\n        ]\n        */\n        //locations: this.props.locations,\n        //lines:this.props.lines\n        \n    };\n\n    getInitialPoints(points: Array<any>): any {    \n        if (points && points.length > 0) {\n            \n            let minX: number, maxX: number, minY: number, maxY: number;\n            \n            // init first point\n            ((point) => {\n                minX = point.latitude;\n                maxX = point.latitude;\n                minY = point.longitude;\n                maxY = point.longitude;\n            })(points[0]);\n            \n            // calculate rect\n            points.map((point: any) => {\n                minX = Math.min(minX, point.latitude);\n                maxX = Math.max(maxX, point.latitude);\n                minY = Math.min(minY, point.longitude);\n                maxY = Math.max(maxY, point.longitude);\n            });\n            \n            const buffer =15.00;\n            const midX = (minX + maxX) / 2;\n            const midY = (minY + maxY) / 2;\n            const deltaX = (maxX - minX) * ((buffer+100) / 100);\n            const deltaY = (maxY - minY) * ((buffer+100) / 100);\n            \n            return {\n                latitude: midX,\n                longitude: midY,\n                latitudeDelta: deltaX,\n                longitudeDelta: deltaY\n            }; \n        }\n    }\n\n    render(): ReactNode {\n\n        const { height, width } = Dimensions.get('window');\n        //const { locations, lines, } = this.state;\n        let points: { latitude: any; longitude: any; }[] = [];\n\n        if(this.props.locations && this.props.locations.value) {\n            var locations = JSON.parse(this.props.locations.value);\n            locations.forEach((location: { latitude: any; longitude: any; }) => {\n                points.push({latitude:location.latitude,longitude:location.longitude});\n            });\n        }\n\n        //alert(this.props.contentSource.toString());\n        //if()        alert(points.toString());\n        //points.map((point, idx) =>{\n        //    alert(point);\n        //})\n\n        const initialMarkerRegion = this.getInitialPoints(points);\n\n        return (\n            <View>\n\n                <MapView\n                    provider={PROVIDER_GOOGLE}\n                    style={{ width, height }}\n                    initialRegion = {initialMarkerRegion}\n                >\n\n                    {points.map((point, idx) => (\n                        <Marker\n                            key={idx}\n                            coordinate={{ latitude: point.latitude, longitude: point.longitude }}\n                            opacity = { (idx == 0 || idx == (points.length-1))? 1.1 : 0.0 }\n                            pinColor = { (idx == 0)? \"#40a832\" : \"#a83232\" }\n                            //icon={ this.props.startIcon?.value }\n                            //icon={ (idx == 0 || idx == (points.length-1)) ? this.props.startIcon?.value : this.props.finishIcon?.value }\n                        //coordinate={location}\n                        //image={TrackingDot}\n                        \n                        />\n                    ))}\n\n                    <Polyline\n                        key={0}\n                        coordinates={points}\n                        strokeColor=\"#000\"\n                        strokeWidth={2}\n                    />\n\n                </MapView>\n            </View>\n        );\n    }\n\n}\n","module.exports = require(\"react\");","module.exports = require(\"react-native\");","module.exports = require(\"react-native-maps\");"],"sourceRoot":""}